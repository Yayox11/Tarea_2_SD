Tarea 2 Sistemas Distribuidos 						O. Andrade
									J. Castillo
									      UTFSM
									  7-11-2018


					Tarea 2
				Sistemas Distribuidos 2018-2

Abstract

	En este documento se presentarán los protocolos gRPC implementados
	para el desarrollo de la tarea 2 de sistemas distribuidos para
	mostrar con claridad el funcionamiento de cada uno de ellos.

Entidades:
	
	Se presentan 3 entidades las cuales se comunicarán entre ellos:
	- Torre de Control
	- Avión
	- Pantalla de información

Protocolos:
	- SayDepartureTrack	| - - - - - - - - - - - |
				| message{		|
				|	numero_vuelo;	| - - -	|
		Avion ---->	|	destino;}	|	|
				| - - - - - - - - - - -	| 	|
							      Torre
				| - - - - - - - - - - - |	|
				| message{		|	|
				|	pista;		|<- - - -
		Avión <---------|	altura;		|
	      			|	ip;		|
				|	puerto;		|
				|	posicion;	|
				|- - - - - - - - - - - -| 
		
		Este protocolo se activa cuando un avión quiere realizar
		un despegue desde cierto aeropuerto. Para esto, envía un
		mensaje a la torre de control correspondiente indicando
		su numero de vuelo y el destino. El servidor busca la
		información de la ip, el puerto correspondiente a esa
		ciudad y la posición en la cola, en caso de que no hayan pistas
		disponibles, encola al avión y bloquea el proceso hasta 
		que se libera una pista. Una vez se libera alguna pista, 
		comienza el proceso de despegue. Se esperan 2 segundos 
		que seria el tiempo de "despegue", que en la realidad es mucho 
		más y luego la torre de control le envía la pista correspondiente 
		al avión junto con la altura a la que debe volar, la ip y el 
		puerto del aeropuerto de destino. 
		El avión recibe este mensaje y comienza el vuelo que dura 10 
		segundos.

	- SayLandingTrack
				| - - - - - - - - - - - |
				| message{		|
				|	pista;		| - - -	|
		Avion ---->	|	altura;}	|	|
				| 	numero_vuelo;	| 	|
				|	destino;}	|     Torre
				| - - - - - - - - - - - |	|
								|
				| - - - - - - - - - - - |	|
				| message{		|	|
				|	pista;		|	|
				|	posición;	|	|
				|	altutid;	|<- - - -
		Avión <---------|			|
				|- - - - - - - - - - - -| 
		

		Este protocolo comienza cuando un avión llega al aeropuerto de
		destino y quiere comenzar el proceso de aterrizaje. La torre de
		de control reconoce que hay un avión esperando aterrizar por lo 
		que le asigna una pista y una altitud, de haber una disponible, esta es
		comunicada al avión y se realiza el aterrizaje. Además se comunica
		la posición de espera en la cola.

	- SayFlightsRequest
				| - - - - - - - - - - - |
				| message{		|
		Pantalla ---->	|	mensaje;}	|     Torre
				| - - - - - - - - - - - |	|
								|
				| - - - - - - - - - - - |	|
				| message{		|	|
				|	tipo;		|	|
				|	aeropuerto;	|	|
				|	vuelo;		|	|
				|	destino;	|	|
				|	pista;}		|<- - - -
		Pantalla <------|			|
				|- - - - - - - - - - - -| 
		
		Este protocolo es para enviarle información a la pantalla de 
		información sobre los aviones despegando y aterrizando.
		La pantalla le envía la solicitud a la torre y ésta responde
		con un stream de mensajes indicando el tipo de 
		actividad(despegue o aterrizaje), aeropuerto, vuelo, 
		destino y pista de cada vuelo que esta aterrizando 
		y despegando.